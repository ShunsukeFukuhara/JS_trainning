## 問題

15.4-10.10 で作成したライフゲームのプログラムについて、プログラム中の関数(updateGrid, renderGrid)をそれぞれ別のファイルで export し、index.js から import して利用するよう修正しなさい。必要に応じて定数の export や関数の引数の変更を行ってもよい。
上記のコードを webpack を利用してバンドルし、バンドル前後のコードについて以下の点を調査して結果を記載しなさい。

1. バンドルしたコードと元のコードを比較し、どのような処理が行われたかを確認しなさい。
2. バンドル前後それぞれのコードを利用するページをローカルサーバで配信してブラウザから閲覧できるようにしなさい。
3. 開発者ツールで ネットワーク タブを開き、スクリプトのダウンロード時間、ページの読み込み完了時間について比較しなさい。

## 解答

1. バンドルされた後、すべてのモジュールが1つのファイルにまとめられ、各ファイル毎にオブジェクトのプロパティとして格納されている。例えば、index.jsは以下のようにまとめられている。

   ```js
       /***/ './ch17/ex05/index.js'(
       /*!****************************!*\
   !*** ./ch17/ex05/index.js ***!
   \****************************/
       __unused_webpack___webpack_module__,
       __webpack_exports__,
       __webpack_require__,
       ) {
       eval("コード内容"); // evalになっているのはmodeがdevelopmentだからだと思われる。

       /***/
       },
   ```

2. index.htmlとindex_webpack.htmlをそれぞれlive serverで配信し、ブラウザから閲覧できるようにした。

3. 以下にバンドル前後のスクリプトのダウンロード時間、ページの読み込み完了時間を示す。なお、Chrome devtoolではcacheを無効、ネットワーク速度は3Gにスロットリングして測定した。ダウンロード時間はバンドル前はindex.js/renderGrid.js/updateGrid.js/constants.jsの合計、バンドル後はbundle.jsの時間である。

| 項目                         | バンドル前 | バンドル後 |
| ---------------------------- | ---------- | ---------- |
| スクリプトのダウンロード時間 | ~8.4s      | ~2.3 s     |
| ページの読み込み完了時間     | ~9.0s      | ~7.1 s     |
