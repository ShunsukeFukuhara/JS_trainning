## 問題

1. 以下の動作を確認しなさい

   - ブラウザの開発者ツールの「ネットワーク」タブを確認してみよう。リンクをクリックしたときに通信は発生しているだろうか？
   - pushState はいつ実行されているだろうか？
   - リロード時に画面の表示はどうなるだろうか？

2. 1 で確認した動作と 15.4-10.12 で確認した動作を比較し、next.js の Link でどういった処理が行われているかをまとめなさい。

## 解答

1. 動作確認の結果は以下の通り。

   - リンクをクリックしたとき、1回目はJavaScriptバンドル等のファイルの取得で通信が発生するが、2回目以降はキャッシュされているため、大容量の通信は発生しない(RSC用のデータ取得のための小さな通信は発生する)。
   - pushState はリンクをクリックしたときに実行されている。クリックイベントのハンドラ内で呼び出されている。
   - リロード時には、現在のURLに対応するページが表示される。この時はサーバーにリクエストが送信され、対応するHTMLが返される。

2. 15.4-10.12で確認した動作と比較すると、next.jsのLinkコンポーネントは以下のような処理を行っていると考えられる。
   - リンククリック時にpushStateを使用してURLを変更し、ページ遷移を行う。
   - ページ遷移時はHTMLではなく、ページごとのJavaScriptバンドルを取得し、クライアント側でレンダリングを行う。
   - クリック時に対応するページのデータをキャッシュし、次回以降のアクセス時に通信を減らす。
   - リロード時にはサーバーにリクエストを送り、対応するページをHTMLとして全て取得する。
